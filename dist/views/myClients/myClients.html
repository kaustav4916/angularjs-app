<div class="pageSetup">
    <div class="row">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                <div class="input-group">
                    <input type="text" class="form-control" my-enter="searchFunction()" placeholder="Search for Clients or Prospects" id="custSearchID"  ng-model="searchinput">
                    <span class="input-group-btn">
                        <button class="btn btn-primary" type="submit" ng-click="clearSearch()">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </button>
                    </span>
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-offset-1 col-lg-offset-1 col-md-2 col-lg-2">
                <a  class="btn btn-primary" data-toggle="modal" data-target="#accountTypeModal" ><i class="fa fa-plus" aria-hidden="true"></i>  Client / Prospect</a>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-offset-1 col-lg-offset-1 col-md-2 col-lg-2">
                <a  class="btn btn-warning"><i class="fa fa-exchange" aria-hidden="true"></i>  Change Status</a>
            </div>
        </div>
        <div class="row-fluid" style="padding-top: 2px" ng-if="searchInputs.length > 0">
            <span class="label label-warning-light float-right" ng-repeat="element in searchInputs" style="margin-right: 3px;font-size: 10px">{{element}}&nbsp; <span><a> <i class="fa fa-times" aria-hidden="true" style="color: #fff" ng-click="removeFilter(element)"></i></a></span> </span>
        </div>

    </div>
    <div class="row">
       <!--  <h1>My Clients Page coming Soon...!!! 22222222222222222    {{custObj}}</h1> -->


    </div>
    <div class="row">
      <!-- Clients Table -->
      <div  style="margin-top: 2%;">
         <div class="row WQ-noBottomMargin" style="padding-top: 12px;">
                <div class="col md-6 WQ-noLeftPadding">
                    <span class="new badge valign-wrapper WQ-noLeftMargin WQ-lightGreenBackground WQ-darkGreenColor WQ-darkGreenBorder"
                          style="float: left; margin-top: 10px;background-color:#61B329;color:white" class="badge badge-pill badge-success"
                          ng-if="showCustCount">Clients Displayed : {{clientsOnDisplay.startValue}}-{{clientsOnDisplay.endValue}}</span>
                    <span class="new badge valign-wrapper WQ-lightGreenBackground WQ-darkGreenColor WQ-darkGreenBorder"
                          style="float: left; margin-top: 10px;background-color:#61B329;color:white" class="badge badge-pill badge-success"
                           ng-if="showCustCount">Total Count : {{totalClients}}</span>
                    <span class="new badge valign-wrapper WQ-noLeftMargin WQ-lightGreenBackground WQ-darkGreenColor WQ-darkGreenBorder"
                          style="float: left; margin-top: 10px;" class="badge badge-pill badge-success"
                           ng-if="underSearch">Search Count :{{searchedClients}} </span>
                    <div class="right" style="margin-bottom: 5px;float: right;padding-left: 15%;">
                        <a class="btn-floating waves-effect waves-light WQ-darkGreenBackground"
                           style="height: 35px; width: 35px;"  data-toggle="modal" data-target="#reorderFieldsModal"
                           data-tooltip="Reorder Rows" data-delay="50" ng-click="openReorderModal()">
                            <i class="glyphicon glyphicon-align-justify" style="line-height: 36px;"></i>
                        </a>&emsp;
                        <a class="btn-floating waves-effect waves-light WQ-darkGreenBackground"
                           style="margin-right: 30px; height: 35px; width: 35px;" tooltipped data-position="bottom"
                           data-tooltip="Manage Custom Fields" data-delay="50" data-toggle="modal" data-target="#manageCFModal"
                           ng-click="viewAllCFs()">
                            <i class="glyphicon glyphicon-wrench" style="line-height: 36px; font-size: 1.5rem;"></i>
                        </a>
                    </div>
                </div>
        </div>
        <div class="pane-hScroll">
          <table class="header">
            <thead >
              <th class="fixed-side" style="color:white!important;background-color: #8B8378!important">Name</th>

              <th class="fixed-side" ng-repeat="cust in allCustomers track by $index"  tooltipped="{{header.field_name.length > 12}}"
               ng-class="{'wrapped' : (cust.first_name.length + cust.last_name.length) > 25}"
                data-position="top" data-tooltip="{{header.field_name}}" data-delay="50"
                style="background:#0198E1!important;color:white"
              ><span ng-bind="cust.first_name+' '+cust.last_name" ></span></th>
            </thead>
          </table>

          <div class="pane-vScroll">
            <table>
              <tbody >
                <tr ng-repeat="header in forbiddenFieldNames track by $index">
                  <th class="fixed-side">
                    <span ng-bind="header.Name" ></span>
                    <span ng-bind="header.lastname" ></span>
                    <span ng-bind="header.Email"></span>
                    <span ng-bind="header.Mobile" ></span>
                    <span ng-bind="header.Username"></span>
                    <span ng-bind="header.PanNumber" ></span>
                    <span ng-bind="header.customertype" ></span>
                    <span ng-bind="header.Created" ></span>
                    <span ng-bind="header.Lastlogged" ></span>
                    <span ng-bind="header.Category" ></span>
                    <span ng-bind="header.birthday" ></span>
                    <span ng-bind="header.balanceinfo" ></span>
                    <span ng-bind="header.nextpayment" ></span>
                  </th>


                  <th ng-repeat="name in header.Array track by $index" class="fixed-sidebar1" id="slider"
                      tooltipped="{{name.first_name.length > 12}}"
                      ng-class="{'WQ-ellipseText': name.first_name.length > 12}"
                      data-tooltip="{{name.first_name}}" data-delay="50">{{name}}
                  </th>
                  <th ng-repeat="lastname in header.Array track by $index " class="fixed-sidebar1" id="slider"
                      tooltipped="{{lastname.last_name.length > 12}}"
                      ng-class="{'WQ-ellipseText': lastname.last_name.length > 12}"
                      data-tooltip="{{lastname.last_name}}" data-delay="50" >{{lastname}}
                  </th>
                  <th ng-repeat="emailID in header.Array track by $index " class="fixed-sidebar1" id="slider"
                      tooltipped="{{emailID.email.length > 12}}"
                      ng-class="{'WQ-ellipseText':emailID.email.length > 12}"
                      data-tooltip="{{emailID.email}}" data-delay="50">{{emailID}}

                  </th>
                  <th ng-repeat="mobile in header.Array track by $index " class="fixed-sidebar1" id="slider"
                      tooltipped="{{mobile.mobile_number.length > 12}}"
                      ng-class="{'WQ-ellipseText': mobile.mobile_number.length > 12}"
                      data-tooltip="{{mobile.mobile_number}}" data-delay="50">{{mobile}}
                  </th>
                  <th ng-repeat="user in header.Array track by $index " class="fixed-sidebar1" id="slider"
                      tooltipped="{{user.username.length > 12}}"
                      ng-class="{'WQ-ellipseText': user.username.length > 12}"
                      data-tooltip="{{user.username}}" data-delay="50">{{user}}
                  </th>
                  <!-- <th ng-repeat="pan in header.Array track by $index "  class="fixed-sidebar1" id="slider"
                      tooltipped="{{pan.pan_number.length > 12}}"
                      ng-class="{'WQ-ellipseText': pan.pan_number.length > 12}"
                      data-tooltip="{{pan.pan_number}}" data-delay="50">{{pan}}

                  </th> -->
                  <!-- <div > bhhh
                    <a href=""  ng-click="addPanNumber(pan.user_id, pan.first_name, pan.last_name)">Add</a>
                  </div> -->
                   <th ng-repeat="type in header.Array track by $index " class="fixed-sidebar1" id="slider"
                      tooltipped="{{type.customer_type.length > 12}}"
                      ng-class="{'WQ-ellipseText': type.customer_type.length > 12}"
                      data-tooltip="{{type.customer_type}}" data-delay="50">{{type}}
                  </th>
                  <th ng-repeat="row in header.Array track by $index " class="fixed-sidebar1" id="slider"
                      tooltipped="{{row.row_created.length > 12}}"
                      ng-class="{'WQ-ellipseText': row.row_created.length > 12}"
                      data-tooltip="{{row.row_created}}" data-delay="50">{{row}}
                  </th>
                   <th ng-repeat="lastlogin in header.Array track by $index " class="fixed-sidebar1" id="slider"
                      tooltipped="{{lastlogin.last_login_attempt.length > 12}}"
                      ng-class="{'WQ-ellipseText': lastlogin.last_login_attempt.length > 12}"
                      data-tooltip="{{lastlogin.last_login_attempt}}" data-delay="50">{{lastlogin}}
                  </th>
                  <th ng-repeat="cate in header.Array track by $index " class="fixed-sidebar1" id="slider"
                      tooltipped="{{cate.category.length > 12}}"
                      ng-class="{'WQ-ellipseText': cate.category.length > 12}"
                      data-tooltip="{{cate.category}}" data-delay="50">{{cate}}
                  </th>
                  <th ng-repeat="Birth in header.Array track by $index " class="fixed-sidebar1" id="slider"
                      tooltipped="{{Birth.Birthday.length > 12}}"
                      ng-class="{'WQ-ellipseText': Birth.Birthday.length > 12}"
                      data-tooltip="{{Birth.Birthday}}" data-delay="50">{{Birth}}
                  </th>
                  <th ng-repeat="Balance in header.Array track by $index " class="fixed-sidebar1" id="slider"
                      tooltipped="{{Balance.balance-info.length > 12}}"
                      ng-class="{'WQ-ellipseText': Balance.balance-info.length > 12}"
                      data-tooltip="{{Balance.balance-info}}" data-delay="50">{{Balance}}
                  </th>
                  <th ng-repeat="Payment in header.Array track by $index " class="fixed-sidebar1" id="slider"
                      tooltipped="{{Payment.NextPayment.length > 12}}"
                      ng-class="{'WQ-ellipseText': Payment.NextPayment .length > 12}"
                      data-tooltip="{{Payment.NextPayment}}" data-delay="50">{{Payment}}
                  </th>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>


  <!-- reorderModal Structure -->
<div id="reorderFieldsModal" class="modal fade" role="dialog" tabindex="-1" role="dialog"  aria-hidden="true">
    <div class="modal-dialog">
       <!--  <a class="WQpointer"  class="close" data-dismiss="modal">
            <i class="glyphicon glyphicon-remove-circle" style="font-size: 20px; font-weight: 600; color: #7b7b7b; margin-top: -15px; margin-right: -15px;">
                close</i>
        </a>
        <div class="center">
            <h4 class="WQ-modalHeading">Reorder Rows</h4>
            <p class="WQ-modalSubHeading">Change clients table fields order</p>
        </div>
        <div class="divider"></div>
        <treasure-overlay-spinner active="reorderFieldsSaveBtn_loader">
            <ul class="collection" id="reorderFields">
                <li class="collection-item" ng-repeat="field in reorderFieldsList track by $index">
                    <span class="dragThis"><i class="glyphicon glyphicon-sort left WQGrabCur">swap_vert</i></span>
                    {{field.field_name}}
                    <div class="right">
                        <div class="chip WQBlock-chip WQActive-chip" ng-if="(field.is_deleted === 'N')">Active</div>
                        <div class="chip WQBlock-chip WQInactive-chip" ng-if="(field.is_deleted === 'Y')">Inactive</div>
                        <div class="chip WQBlock-chip WQActive-chip" ng-if="(field.visibility === 'Y')">Visible</div>
                        <div class="chip WQBlock-chip WQInactive-chip" ng-if="(field.visibility === 'N')">Hidden</div>
                    </div>
                </li>
            </ul>
        </treasure-overlay-spinner> -->
        <div class="modal-dialog modal-lg">

            <!-- Modal content-->
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Reorder Rows</h4>
                <p class="WQ-modalSubHeading">Change clients table fields order</p>
              </div>
              <div class="modal-body">
                <p>Some text in the modal.</p>
                  <treasure-overlay-spinner active="reorderFieldsSaveBtn_loader">
                    <ul class="collection" id="reorderFields">
                        <li class="collection-item" ng-repeat="field in reorderFieldsList track by $index">
                            <span class="dragThis"><i class="glyphicon glyphicon-sort left WQGrabCur">swap_vert</i></span>
                            {{field.field_name}}
                            <div class="right">
                                <div class="chip WQBlock-chip WQActive-chip" ng-if="(field.is_deleted === 'N')">Active</div>
                                <div class="chip WQBlock-chip WQInactive-chip" ng-if="(field.is_deleted === 'Y')">Inactive</div>
                                <div class="chip WQBlock-chip WQActive-chip" ng-if="(field.visibility === 'Y')">Visible</div>
                                <div class="chip WQBlock-chip WQInactive-chip" ng-if="(field.visibility === 'N')">Hidden</div>
                            </div>
                        </li>
                    </ul>
                  </treasure-overlay-spinner>
              </div>
            </div>
          </div>
    </div>
    <!--<div class="modal-footer center">-->
        <!--<treasure-overlay-spinner active="reorderFieldsSaveBtn_loader">-->
            <!--<a class="btn wqBlue-btn" ng-click="reorderFields()" ng-disabled="!fieldsReorderedCheck">Save</a>-->
        <!--</treasure-overlay-spinner>-->
    <!--</div>-->
</div>
 <!-- manageCFModal Structure -->
<div id="manageCFModal" class="modal fade" role="dialog" tabindex="-1" role="dialog"  aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-dialog modal-lg">
            <!-- Modal content-->
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="WQ-modalHeading">Manage Custom Fields</h4>
                <p class="WQ-modalSubHeading">Activating/Deactivating custom field, shows/hides the custom field and your
                customers data under that field</p>
              </div>
              <div class="modal-body">
                <p>Some text in the modal.</p>
                  <treasure-overlay-spinner active="reorderFieldsSaveBtn_loader">
                    <ul class="collection" id="reorderFields">
                        <li class="collection-item" ng-repeat="field in reorderFieldsList track by $index">
                            <span class="dragThis"><i class="glyphicon glyphicon-sort left WQGrabCur">swap_vert</i></span>
                            {{field.field_name}}
                            <div class="right">
                                <div class="chip WQBlock-chip WQActive-chip" ng-if="(field.is_deleted === 'N')">Active</div>
                                <div class="chip WQBlock-chip WQInactive-chip" ng-if="(field.is_deleted === 'Y')">Inactive</div>
                                <div class="chip WQBlock-chip WQActive-chip" ng-if="(field.visibility === 'Y')">Visible</div>
                                <div class="chip WQBlock-chip WQInactive-chip" ng-if="(field.visibility === 'N')">Hidden</div>
                            </div>
                        </li>
                    </ul>
                  </treasure-overlay-spinner>
              </div>
            </div>
          </div>
    </div>
    <!--<div class="modal-footer center">-->
        <!--<treasure-overlay-spinner active="reorderFieldsSaveBtn_loader">-->
            <!--<a class="btn wqBlue-btn" ng-click="reorderFields()" ng-disabled="!fieldsReorderedCheck">Save</a>-->
        <!--</treasure-overlay-spinner>-->
    <!--</div>-->
</div>
<!-- accountTypeModal-------->
<div class="modal inmodal fade" id="accountTypeModal" tabindex="-1" role="dialog"  aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Add Client / Prospect</h4>
            </div>
            <div class="modal-body" style="background-color: #fff">
                <form role="form" name="partnerClientRegForm" ng-submit="proceed()">
                    <div class="row">
                        <div style="display: inline" class="form-check form-check-inline">
                            <label class="form-check-label"  style="font-size: 17px">Choose Account Type : </label>
                        </div>
                        <div class="form-check form-check-inline" style="display: inline;margin-left: 2%;">
                            <input class="form-check-input" type="radio" name="client" id="client" value="client" ng-model="custObj.custType">
                            <label class="form-check-label" for="client" style="font-weight: 400;font-size: 14px">Client</label>
                        </div>
                        <div class="form-check form-check-inline" style="display: inline;margin-left: 2%;">
                            <input class="form-check-input" type="radio" name="prospect" id="prospect" value="prospect" ng-model="custObj.custType">
                            <label class="form-check-label" for="prospect" style="font-weight: 400;font-size: 14px">Prospect</label>
                        </div>
                    </div>
                    <div class="row" ng-if="custObj.custType" style="margin-top: 1%">
                        <h4 style="margin-bottom: 1%;font-size: 16px">{{custObj.custType}} Details : </h4>
                        <div class="col-md-12" style="margin-top: 2%">
                            <div class="form-group col-md-9">
                                <label >Email address<sup style="color: red">&#x2a;</sup></label>
                                <input class="form-control" id="emailId" type="email" ng-model='custObj.emailID' name="mail"
                                       placeholder="Email" ng-pattern="regexEmail" required>
                                <small  class="form-text text-danger " ng-show="partnerClientRegForm.mail.$error.pattern">Should be in
                                    xyz@abc.com format.</small>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group col-md-6">
                                <label >First Name<sup style="color: red">&#x2a;</sup></label>
                                <input type="text" class="form-control" name="first_name" ng-model='custObj.firstname'
                                       ng-pattern="regexFirstName" placeholder="First Name" required>
                                <small   class="form-text  text-danger" ng-if="partnerClientRegForm.first_name.$error.pattern">Should contain
                                    only alphabets.</small>
                            </div>
                            <div class="form-group col-md-6">
                                <label >Last Name<sup style="color: red">&#x2a;</sup></label>
                                <input type="text" class="form-control"  ng-model='custObj.lastname' name="last_name"
                                       ng-pattern="regexLastName" placeholder="Last Name" required>
                                <small   class="form-text  text-danger" ng-if="partnerClientRegForm.last_name.$error.pattern">Should contain
                                    only alphabets.</small>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group col-md-6">
                            <label >User Name<sup style="color: red">&#x2a;</sup></label>
                            <input type="text" class="form-control" data-length="15"
                                   ng-keyup="checkUsernameValid()"
                                   ng-model='custObj.userID' name="username" ng-pattern="regExpUsername" ng-minlength="6" ng-maxlength="15"
                                   placeholder="Username"
                                   required>
                                <small class="form-text  text-danger" ng-if="available && showAvailability" >
                                    <!--<img src="images/signup/tick.png">-->
                                    <span style="color: #28af28; font-size: 11px;">https://{{custObj.userID}}.wealthquotient.in is available</span>
                                </small>
                                <small class="form-text" ng-if="!available && showAvailability" >
                                    <span style="color: #ff6666; font-size: 11px;">https://{{custObj.userID}}.wealthquotient.in is not available</span>
                                </small>
                                <small   class="form-text  text-danger" ng-if="partnerClientRegForm.username.$error.minlength">Username is
                                    too short.</small>
                                <small   class="form-text  text-danger" ng-if="partnerClientRegForm.username.$error.maxLength">Username is
                                    too long.</small>
                                <small   class="form-text  text-danger" ng-if="partnerClientRegForm.username.$error.pattern">Should contain
                                    only alphabets and
                                    digits.</small>
                            <!--<small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>-->
                            </div>
                            <div class="form-group col-md-6">
                            <label >Mobile Number<sup style="color: red">&#x2a;</sup></label>
                            <input  class="form-control" type="tel" ng-model='custObj.mnum' name="mobilenumber"
                                   minlength="10"
                                   maxlength="10" ng-pattern="regexPhone" ng-focus="numberAlreadyExists = false"
                                   placeholder="Mobile Number" required>
                                <small   class="form-text  text-danger" ng-if="partnerClientRegForm.mobilenumber.$error.minlength">Mobile number
                                    should be 10 digits.</small>
                                <small   class="form-text  text-danger" ng-if="partnerClientRegForm.mobilenumber.$error.maxLength">Mobile number
                                    should be 10 digits.</small>
                                <small   class="form-text  text-danger" ng-if="partnerClientRegForm.mobilenumber.$error.pattern">Should contain
                                    only digits.</small>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group col-md-6">
                            <label >Password<sup style="color: red">&#x2a;</sup></label>
                            <input type="password" class="form-control" ng-model='custObj.pass' name="pass_word"
                                   ng-minlength="6" ng-maxlength="50" placeholder="Password" ng-change="matchPassword()" required>
                                <small   class="form-text  text-danger" ng-if="partnerClientRegForm.pass_word.$error.minlength">Password is
                                    too short.</small>
                                <small   class="form-text  text-danger" ng-if="partnerClientRegForm.pass_word.$error.maxLength">Password is
                                    too long.</small>
                            </div>
                            <div class="form-group col-md-6">
                            <label>confirm Password<sup style="color: red">&#x2a;</sup></label>
                            <input type="password" class="form-control" name="cPass" ng-model='custObj.cPass'
                                   ng-change="matchPassword()" placeholder="Confirm Password" required>
                                <small   class="form-text  text-danger" ng-if="custObj.cPass && passMatchFailed">Passwords do not match.</small>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-12 " ng-if="custObj.custType">
                        <button type="submit" class="btn btn-primary pull-right" ng-disabled="partnerClientRegForm.$invalid || passMatchFailed">Save changes</button>
                    </div>


                </form>

            </div>
            <div class="modal-footer" style="border-top: none;text-align: center">

            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
  var callScroll = function() {
        var bottomTableTest = $(".bottomTable-scroll");
        var topTableTest = $(".topTable-scroll");
        // console.log($(this).scrollLeft());
        setTimeout(function(){
            topTableTest.scrollLeft(bottomTableTest.scrollLeft())
        },1)

    };

    jQuery(document).ready(function() {
       $('.pane-hScroll').scroll(function() {
       $('.pane-vScroll').width($('.pane-hScroll').width() + $('.pane-hScroll').scrollLeft());
      });
    });
</script>
